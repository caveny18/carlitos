<!-- ======= BOTTOM NAV (Pegar antes de </body>) ======= -->
<style>
  /* Bottom nav - estilo pill central oscuro */
  .carlitos-bottom-nav {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 12px;
    display: flex;
    justify-content: center;
    pointer-events: auto;
    z-index: 9999;
  }
  .carlitos-bottom-inner {
    width: calc(100% - 32px);
    max-width: 760px;
    background: rgba(6,10,18,0.85); /* oscuro translúcido */
    backdrop-filter: blur(6px);
    border-radius: 14px;
    padding: 8px 12px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: 6px;
  }

  .c-nav-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    text-decoration: none;
    color: #9fb0c1;
    font-size: 12px;
    width: 84px;
    padding: 6px 8px;
    border-radius: 10px;
    transition: color .18s ease, transform .12s ease, background .12s ease;
  }
  .c-nav-btn .c-icon {
    width: 20px;
    height: 20px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: currentColor;
  }
  .c-nav-btn:hover { transform: translateY(-3px); color: #d0f7fb; }
  .c-nav-btn.active {
    color: #06b6d4; /* color activo (azul/turquesa) */
    background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 6px 20px rgba(6,182,212,0.08);
  }

  /* mobile tweak */
  @media (max-width:420px){
    .carlitos-bottom-inner { padding:8px; gap:4px; }
    .c-nav-btn { width:64px; font-size:11px; }
  }
</style>

<nav class="carlitos-bottom-nav" aria-label="Navegación principal">
  <div class="carlitos-bottom-inner" role="navigation">
    <a class="c-nav-btn" id="nav-home" href="index.html" title="Home" aria-current="page">
      <!-- home icon -->
      <svg class="c-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M3 11.5L12 4l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-8.5z"/>
      </svg>
      <span>Home</span>
    </a>

    <a class="c-nav-btn" id="nav-add" href="#" title="Agregar" >
      <!-- plus icon -->
      <svg class="c-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M12 5v14M5 12h14"/>
      </svg>
      <span>Agregar</span>
    </a>

    <a class="c-nav-btn" id="nav-micro" href="microaprendizaje.html" title="Microaprendizaje">
      <!-- play/shorts icon -->
      <svg class="c-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M5 3v18l15-9L5 3z"/>
      </svg>
      <span>Microaprendizaje</span>
    </a>

    <a class="c-nav-btn" id="nav-camino" href="camino.html" title="Camino">
      <!-- path icon -->
      <svg class="c-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M3 12h18M8 6h8M10 18h4"/>
      </svg>
      <span>Camino</span>
    </a>
  </div>
</nav>

<script>
  // Marcar botón activo según la URL actual
  (function markActiveNav(){
    try{
      const path = location.pathname.split('/').pop() || 'index.html';
      // map file name to id
      const map = {
        'index.html': 'nav-home',
        '': 'nav-home',
        'microaprendizaje.html': 'nav-micro',
        'camino.html': 'nav-camino'
      };
      const activeId = map[path] || null;
      if(activeId){
        document.querySelectorAll('.c-nav-btn').forEach(b => b.classList.remove('active'));
        const el = document.getElementById(activeId);
        if(el) el.classList.add('active');
      }
    }catch(e){console.warn(e)}
  })();

  // Ejemplo: el botón "Agregar" puede abrir el modal o la sección de añadir
  document.getElementById('nav-add').addEventListener('click', function(ev){
    ev.preventDefault();
    // Si tu página tiene un modal o función addEntryOpen(), llamarla aquí.
    // Por defecto navegaremos a index y abrimos el formulario (si existe)
    if(location.pathname.split('/').pop() !== 'index.html'){
      location.href = 'index.html';
      // Si quieres abrir automáticamente el modal al cargar index, puedes
      // colocar algo como localStorage.setItem('openAdd', '1') antes de redirigir,
      // y en index.html comprobarlo al cargar.
      localStorage.setItem('carlitos_open_add', '1');
    } else {
      // Si estás en index y tienes una función JS para abrir el formulario, llámala:
      // window.openAddForm && window.openAddForm();
      // fallback: focus al input de monto
      const amt = document.getElementById('amount');
      if(amt){ amt.focus(); }
    }
  });

  // Si usas el trick de redirigir y abrir, chequear en index.js al cargar:
  // if(localStorage.getItem('carlitos_open_add')) { openAddForm(); localStorage.removeItem('carlitos_open_add'); }
</script>
<!-- ======= FIN BOTTOM NAV ======= -->

